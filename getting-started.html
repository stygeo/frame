<!DOCTYPE html>

<html>
<head>
  <title>getting-started.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>getting-started.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>$(<span class="keyword">function</span>() {
  <span class="keyword">var</span> DateViewController, DateView, DateModel;</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Create the date model with a &#39;date&#39; property</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  DateModel = Frame.Model.extend([<span class="string">'date'</span>]);

  DateView = Frame.View.extend({
    constructor: <span class="keyword">function</span>() {</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Call super&#39;s constructor</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      Frame.View.call(<span class="keyword">this</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Create a new date model</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">this</span>.dateModel = <span class="keyword">new</span> DateModel({date: <span class="keyword">new</span> Date()});</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Add an observer to the date field</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">this</span>.dateModel.addObserverForKey(<span class="string">'date'</span>, _.bind(<span class="keyword">this</span>.update, <span class="keyword">this</span>));
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Draw method</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    draw: <span class="keyword">function</span>() {</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Set the date model&#39;s date as content</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">this</span>.$.html(<span class="keyword">this</span>.dateModel.date);</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Update the date (this invoke the observer)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">this</span>.dateModel.date = <span class="keyword">new</span> Date();
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Update method. Called from addObserverForKey</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    update: <span class="keyword">function</span>() {
      <span class="keyword">var</span> self = <span class="keyword">this</span>;

      setTimeout(<span class="keyword">function</span>() {
        self.draw();
      }, <span class="number">1000</span>);
    },
  });

  DateViewController = Frame.ViewController.extend({</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>If you want the root view (this.view) to latch to any existing element
set the &#39;el&#39; attribute from within the initialize method. It will be passed on to the view.
If no element with the specified attributes exists it creates a new DOM node.</p>
<p>Initialize is called from the constructor of the controller.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    constructor: <span class="keyword">function</span>(options) {
      Frame.ViewController.call(<span class="keyword">this</span>, options);</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Set up anything controller related. Views can be set up from within the viewDidLoad method.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    },</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Set up your view and load any content that needs to be displayed on the view.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    viewDidLoad: <span class="keyword">function</span>() {
      <span class="keyword">this</span>.view.$.html(<span class="string">'Hello world'</span>);

      <span class="keyword">var</span> dateView = <span class="keyword">new</span> DateView();
      <span class="keyword">this</span>.view.addSubview(dateView);

      <span class="keyword">var</span> canvasView = <span class="keyword">new</span> Frame.CanvasView({width: <span class="number">300</span>, height: <span class="number">300</span>});</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Hack, supply custom draw method</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      canvasView.draw = <span class="keyword">function</span>() {
        <span class="keyword">var</span> ctx = <span class="keyword">this</span>.context;

        ctx.fillStyle = <span class="string">"#00A308"</span>;
        ctx.beginPath();
        ctx.arc(<span class="number">220</span>, <span class="number">220</span>, <span class="number">50</span>, <span class="number">0</span>, Math.PI*<span class="number">2</span>, <span class="literal">true</span>);
        ctx.closePath();
        ctx.fill();

        ctx.fillStyle = <span class="string">"#FF1C0A"</span>;
        ctx.beginPath();
        ctx.arc(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">0</span>, Math.PI*<span class="number">2</span>, <span class="literal">true</span>);
        ctx.closePath();
        ctx.fill();</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>the rectangle is half transparent</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        ctx.fillStyle = <span class="string">"rgba(255, 255, 0, .5)"</span>
        ctx.beginPath();
        ctx.rect(<span class="number">15</span>, <span class="number">150</span>, <span class="number">120</span>, <span class="number">120</span>);
        ctx.closePath();
        ctx.fill();
      };

      <span class="keyword">this</span>.view.addSubview(canvasView);
    }
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Start point of your application. Setting &#39;Frame.application&#39; fires up the application stack.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Frame.application = Frame.Application.extend({
    didFinishLaunching: <span class="keyword">function</span>() {</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Method fired as soon as all javascript has been loaded and when the DOM is ready</p>
<p>Setup root view controller. All ViewControllers have a root view (controller.view) set.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">this</span>.rootViewController = <span class="keyword">new</span> DateViewController();</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Once this function returns, if a rootViewController is present, it will call loadView on the root view controller</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    },

    willTerminate: <span class="keyword">function</span>() {</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Called when the application terminates. (window close, navigation, etc.)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      console.log(<span class="string">"willTerminate"</span>);
    }
  });
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
